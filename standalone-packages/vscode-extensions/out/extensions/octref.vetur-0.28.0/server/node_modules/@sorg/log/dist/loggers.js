"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**Logs a table in node. */
function LogTable(table) {
    if (table[0] === undefined)
        return;
    var output = '';
    var maxLengths = [];
    for (var i = 0; i < table[0].length; i++) {
        var column = getColumn(table, i);
        maxLengths.push(getMaxLength(column));
    }
    for (var i = 0; i < table.length; i++) {
        var row = table[i];
        for (var j = 0; j < row.length; j++) {
            var field = row[j];
            output += field
                .toString()
                .concat(' '.repeat(maxLengths[j] - replaceStyles(field).length + 1));
        }
        output += '\n';
    }
    console.log(output.replace(/\n$/, ''));
}
exports.LogTable = LogTable;
function getMaxLength(column) {
    var max = 0;
    for (var i = 0; i < column.length; i++) {
        var field = column[i];
        if (field) {
            var length_1 = replaceStyles(field).length;
            max = length_1 > max ? length_1 : max;
        }
    }
    return max;
}
function replaceStyles(item) {
    return item.toString().replace(/[\033\x1b\u001b]\[.*?m/g, '');
}
function getColumn(matrix, col) {
    return matrix.map(function (row) { return row[col]; });
}
