"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatCommentPreserveSpaces = exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = exports.COMMENT_PRESERVE_SPACES_OPTION = void 0;
const _1 = require(".");
exports.COMMENT_PRESERVE_SPACES_OPTION = {
    since: '1.1.0',
    category: _1.CATEGORY_PUG,
    type: 'choice',
    default: 'keep-all',
    description: 'Change behavior of spaces within comments.',
    choices: [
        {
            value: 'keep-all',
            description: 'Keep all spaces within comments. Example: `//    this  is   a   comment`'
        },
        {
            value: 'keep-leading',
            description: 'Keep leading spaces within comments. Example: `//    this is a comment`'
        },
        {
            value: 'trim-all',
            description: 'Trim all spaces within comments. Example: `// this is a comment`'
        }
    ]
};
exports.PUG_COMMENT_PRESERVE_SPACES_OPTION = {
    ...exports.COMMENT_PRESERVE_SPACES_OPTION,
    since: '1.6.0',
    default: null,
    choices: [
        {
            value: null,
            description: 'Use `commentPreserveSpaces` value.'
        },
        {
            value: 'keep-all',
            description: 'Keep all spaces within comments. Example: `//    this  is   a   comment`'
        },
        {
            value: 'keep-leading',
            description: 'Keep leading spaces within comments. Example: `//    this is a comment`'
        },
        {
            value: 'trim-all',
            description: 'Trim all spaces within comments. Example: `// this is a comment`'
        }
    ]
};
function formatCommentPreserveSpaces(input, commentPreserveSpaces, pipeless = false) {
    switch (commentPreserveSpaces) {
        case 'keep-leading': {
            let result = '';
            let firstNonSpace = 0;
            for (firstNonSpace; firstNonSpace < input.length && input[firstNonSpace] === ' '; firstNonSpace++) {
                result += ' ';
            }
            result += input.slice(firstNonSpace).trim().replace(/\s\s+/g, ' ');
            return result;
        }
        case 'trim-all': {
            let result = input.trim();
            result = result.replace(/\s\s+/g, ' ');
            if (!pipeless && input[0] === ' ') {
                result = ` ${result}`;
            }
            return result;
        }
        case 'keep-all':
        default:
            return input;
    }
}
exports.formatCommentPreserveSpaces = formatCommentPreserveSpaces;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWVudC1wcmVzZXJ2ZS1zcGFjZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvb3B0aW9ucy9jb21tZW50LXByZXNlcnZlLXNwYWNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx3QkFBaUM7QUFFcEIsUUFBQSw4QkFBOEIsR0FBRztJQUM3QyxLQUFLLEVBQUUsT0FBTztJQUNkLFFBQVEsRUFBRSxlQUFZO0lBQ3RCLElBQUksRUFBRSxRQUFRO0lBQ2QsT0FBTyxFQUFFLFVBQVU7SUFDbkIsV0FBVyxFQUFFLDRDQUE0QztJQUN6RCxPQUFPLEVBQUU7UUFDUjtZQUNDLEtBQUssRUFBRSxVQUFVO1lBQ2pCLFdBQVcsRUFBRSwwRUFBMEU7U0FDdkY7UUFDRDtZQUNDLEtBQUssRUFBRSxjQUFjO1lBQ3JCLFdBQVcsRUFBRSx5RUFBeUU7U0FDdEY7UUFDRDtZQUNDLEtBQUssRUFBRSxVQUFVO1lBQ2pCLFdBQVcsRUFBRSxrRUFBa0U7U0FDL0U7S0FDRDtDQUNELENBQUM7QUFFVyxRQUFBLGtDQUFrQyxHQUFHO0lBQ2pELEdBQUcsc0NBQThCO0lBQ2pDLEtBQUssRUFBRSxPQUFPO0lBQ2QsT0FBTyxFQUFFLElBQUk7SUFDYixPQUFPLEVBQUU7UUFDUjtZQUNDLEtBQUssRUFBRSxJQUFJO1lBQ1gsV0FBVyxFQUFFLG9DQUFvQztTQUNqRDtRQUNEO1lBQ0MsS0FBSyxFQUFFLFVBQVU7WUFDakIsV0FBVyxFQUFFLDBFQUEwRTtTQUN2RjtRQUNEO1lBQ0MsS0FBSyxFQUFFLGNBQWM7WUFDckIsV0FBVyxFQUFFLHlFQUF5RTtTQUN0RjtRQUNEO1lBQ0MsS0FBSyxFQUFFLFVBQVU7WUFDakIsV0FBVyxFQUFFLGtFQUFrRTtTQUMvRTtLQUNEO0NBQ0QsQ0FBQztBQUlGLFNBQWdCLDJCQUEyQixDQUMxQyxLQUFhLEVBQ2IscUJBQTRDLEVBQzVDLFdBQW9CLEtBQUs7SUFFekIsUUFBUSxxQkFBcUIsRUFBRTtRQUM5QixLQUFLLGNBQWMsQ0FBQyxDQUFDO1lBQ3BCLElBQUksTUFBTSxHQUFXLEVBQUUsQ0FBQztZQUN4QixJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUM7WUFDdEIsS0FBSyxhQUFhLEVBQUUsYUFBYSxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxhQUFhLEVBQUUsRUFBRTtnQkFDbEcsTUFBTSxJQUFJLEdBQUcsQ0FBQzthQUNkO1lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNuRSxPQUFPLE1BQU0sQ0FBQztTQUNkO1FBQ0QsS0FBSyxVQUFVLENBQUMsQ0FBQztZQUNoQixJQUFJLE1BQU0sR0FBVyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDbEMsTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7YUFDdEI7WUFDRCxPQUFPLE1BQU0sQ0FBQztTQUNkO1FBQ0QsS0FBSyxVQUFVLENBQUM7UUFDaEI7WUFFQyxPQUFPLEtBQUssQ0FBQztLQUNkO0FBQ0YsQ0FBQztBQTVCRCxrRUE0QkMifQ==